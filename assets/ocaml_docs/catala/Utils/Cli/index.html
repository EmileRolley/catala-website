<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cli (catala.Utils.Cli)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">catala</a> &#x00BB; <a href="../index.html">Utils</a> &#x00BB; Cli</nav><header class="odoc-preamble"><h1>Module <code><span>Utils.Cli</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#configuration-globals">Configuration globals</a></li><li><a href="#cli-terms">CLI terms</a></li><li><a href="#terminal-formatting">Terminal formatting</a><ul><li><a href="#markers">Markers</a></li><li><a href="#printers">Printers</a></li></ul></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-backend_lang" class="anchored"><a href="#type-backend_lang" class="anchor"></a><code><span><span class="keyword">type</span> backend_lang</span><span> = </span></code><table><tr id="type-backend_lang.En" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.En" class="anchor"></a><code><span>| </span><span><span class="constructor">En</span></span></code></td></tr><tr id="type-backend_lang.Fr" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.Fr" class="anchor"></a><code><span>| </span><span><span class="constructor">Fr</span></span></code></td></tr><tr id="type-backend_lang.Pl" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.Pl" class="anchor"></a><code><span>| </span><span><span class="constructor">Pl</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-backend_option" class="anchored"><a href="#type-backend_option" class="anchor"></a><code><span><span class="keyword">type</span> backend_option</span><span> = </span></code><table><tr id="type-backend_option.Dcalc" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Dcalc" class="anchor"></a><code><span>| </span><span><span class="constructor">Dcalc</span></span></code></td></tr><tr id="type-backend_option.Html" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Html" class="anchor"></a><code><span>| </span><span><span class="constructor">Html</span></span></code></td></tr><tr id="type-backend_option.Interpret" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Interpret" class="anchor"></a><code><span>| </span><span><span class="constructor">Interpret</span></span></code></td></tr><tr id="type-backend_option.Latex" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Latex" class="anchor"></a><code><span>| </span><span><span class="constructor">Latex</span></span></code></td></tr><tr id="type-backend_option.Lcalc" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Lcalc" class="anchor"></a><code><span>| </span><span><span class="constructor">Lcalc</span></span></code></td></tr><tr id="type-backend_option.Makefile" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Makefile" class="anchor"></a><code><span>| </span><span><span class="constructor">Makefile</span></span></code></td></tr><tr id="type-backend_option.OCaml" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.OCaml" class="anchor"></a><code><span>| </span><span><span class="constructor">OCaml</span></span></code></td></tr><tr id="type-backend_option.Proof" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Proof" class="anchor"></a><code><span>| </span><span><span class="constructor">Proof</span></span></code></td></tr><tr id="type-backend_option.Python" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Python" class="anchor"></a><code><span>| </span><span><span class="constructor">Python</span></span></code></td></tr><tr id="type-backend_option.Scalc" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Scalc" class="anchor"></a><code><span>| </span><span><span class="constructor">Scalc</span></span></code></td></tr><tr id="type-backend_option.Scopelang" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Scopelang" class="anchor"></a><code><span>| </span><span><span class="constructor">Scopelang</span></span></code></td></tr><tr id="type-backend_option.Typecheck" class="anchored"><td class="def variant constructor"><a href="#type-backend_option.Typecheck" class="anchor"></a><code><span>| </span><span><span class="constructor">Typecheck</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-catala_backend_option_to_string" class="anchored"><a href="#val-catala_backend_option_to_string" class="anchor"></a><code><span><span class="keyword">val</span> catala_backend_option_to_string : <span><a href="#type-backend_option">backend_option</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>catala_backend_to_string backend</code> returns the string representation of the given <code>backend</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-catala_backend_option_of_string" class="anchored"><a href="#val-catala_backend_option_of_string" class="anchor"></a><code><span><span class="keyword">val</span> catala_backend_option_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-backend_option">backend_option</a> option</span></span></code></div><div class="spec-doc"><p><code>catala_backend_option_of_string backend</code> returns the <a href="#type-backend_option"><code>backend_option</code></a> corresponding to the <code>backend</code> string.</p></div></div><h3 id="configuration-globals"><a href="#configuration-globals" class="anchor"></a>Configuration globals</h3><div class="odoc-spec"><div class="spec value" id="val-source_files" class="anchored"><a href="#val-source_files" class="anchor"></a><code><span><span class="keyword">val</span> source_files : <span><span>string list</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Source files to be compiled</p></div></div><div class="odoc-spec"><div class="spec value" id="val-locale_lang" class="anchored"><a href="#val-locale_lang" class="anchor"></a><code><span><span class="keyword">val</span> locale_lang : <span><a href="#type-backend_lang">backend_lang</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-contents" class="anchored"><a href="#val-contents" class="anchor"></a><code><span><span class="keyword">val</span> contents : <span>string <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_flag" class="anchored"><a href="#val-debug_flag" class="anchor"></a><code><span><span class="keyword">val</span> debug_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-style_flag" class="anchored"><a href="#val-style_flag" class="anchor"></a><code><span><span class="keyword">val</span> style_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Styles the terminal output</p></div></div><div class="odoc-spec"><div class="spec value" id="val-optimize_flag" class="anchored"><a href="#val-optimize_flag" class="anchor"></a><code><span><span class="keyword">val</span> optimize_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-max_prec_digits" class="anchored"><a href="#val-max_prec_digits" class="anchor"></a><code><span><span class="keyword">val</span> max_prec_digits : <span>int <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Max number of digits to show for decimal results</p></div></div><div class="odoc-spec"><div class="spec value" id="val-trace_flag" class="anchored"><a href="#val-trace_flag" class="anchor"></a><code><span><span class="keyword">val</span> trace_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-disable_counterexamples" class="anchored"><a href="#val-disable_counterexamples" class="anchor"></a><code><span><span class="keyword">val</span> disable_counterexamples : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Disables model-generated counterexamples for proofs that fail.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-avoid_exceptions_flag" class="anchored"><a href="#val-avoid_exceptions_flag" class="anchor"></a><code><span><span class="keyword">val</span> avoid_exceptions_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Avoids using <code>try ... with</code> exceptions when compiling the default calculus.</p></div></div><h3 id="cli-terms"><a href="#cli-terms" class="anchor"></a>CLI terms</h3><div class="odoc-spec"><div class="spec value" id="val-file" class="anchored"><a href="#val-file" class="anchor"></a><code><span><span class="keyword">val</span> file : <span>string <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-debug" class="anchored"><a href="#val-debug" class="anchor"></a><code><span><span class="keyword">val</span> debug : <span>bool <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unstyled" class="anchored"><a href="#val-unstyled" class="anchor"></a><code><span><span class="keyword">val</span> unstyled : <span>bool <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-trace_opt" class="anchored"><a href="#val-trace_opt" class="anchor"></a><code><span><span class="keyword">val</span> trace_opt : <span>bool <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wrap_weaved_output" class="anchored"><a href="#val-wrap_weaved_output" class="anchor"></a><code><span><span class="keyword">val</span> wrap_weaved_output : <span>bool <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-backend" class="anchored"><a href="#val-backend" class="anchor"></a><code><span><span class="keyword">val</span> backend : <span>string <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-language" class="anchored"><a href="#val-language" class="anchor"></a><code><span><span class="keyword">val</span> language : <span><span>string option</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-max_prec_digits_opt" class="anchored"><a href="#val-max_prec_digits_opt" class="anchor"></a><code><span><span class="keyword">val</span> max_prec_digits_opt : <span><span>int option</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ex_scope" class="anchored"><a href="#val-ex_scope" class="anchor"></a><code><span><span class="keyword">val</span> ex_scope : <span><span>string option</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-output" class="anchored"><a href="#val-output" class="anchor"></a><code><span><span class="keyword">val</span> output : <span><span>string option</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-options" class="anchored"><a href="#type-options" class="anchor"></a><code><span><span class="keyword">type</span> options</span><span> = </span><span>{</span></code><table><tr id="type-options.debug" class="anchored"><td class="def record field"><a href="#type-options.debug" class="anchor"></a><code><span>debug : bool;</span></code></td></tr><tr id="type-options.unstyled" class="anchored"><td class="def record field"><a href="#type-options.unstyled" class="anchor"></a><code><span>unstyled : bool;</span></code></td></tr><tr id="type-options.wrap_weaved_output" class="anchored"><td class="def record field"><a href="#type-options.wrap_weaved_output" class="anchor"></a><code><span>wrap_weaved_output : bool;</span></code></td></tr><tr id="type-options.avoid_exceptions" class="anchored"><td class="def record field"><a href="#type-options.avoid_exceptions" class="anchor"></a><code><span>avoid_exceptions : bool;</span></code></td></tr><tr id="type-options.backend" class="anchored"><td class="def record field"><a href="#type-options.backend" class="anchor"></a><code><span>backend : string;</span></code></td></tr><tr id="type-options.language" class="anchored"><td class="def record field"><a href="#type-options.language" class="anchor"></a><code><span>language : <span>string option</span>;</span></code></td></tr><tr id="type-options.max_prec_digits" class="anchored"><td class="def record field"><a href="#type-options.max_prec_digits" class="anchor"></a><code><span>max_prec_digits : <span>int option</span>;</span></code></td></tr><tr id="type-options.trace" class="anchored"><td class="def record field"><a href="#type-options.trace" class="anchor"></a><code><span>trace : bool;</span></code></td></tr><tr id="type-options.disable_counterexamples" class="anchored"><td class="def record field"><a href="#type-options.disable_counterexamples" class="anchor"></a><code><span>disable_counterexamples : bool;</span></code></td></tr><tr id="type-options.optimize" class="anchored"><td class="def record field"><a href="#type-options.optimize" class="anchor"></a><code><span>optimize : bool;</span></code></td></tr><tr id="type-options.ex_scope" class="anchored"><td class="def record field"><a href="#type-options.ex_scope" class="anchor"></a><code><span>ex_scope : <span>string option</span>;</span></code></td></tr><tr id="type-options.output_file" class="anchored"><td class="def record field"><a href="#type-options.output_file" class="anchor"></a><code><span>output_file : <span>string option</span>;</span></code></td></tr><tr id="type-options.closure_conversion" class="anchored"><td class="def record field"><a href="#type-options.closure_conversion" class="anchor"></a><code><span>closure_conversion : bool;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Command-line application</p></div></div><div class="odoc-spec"><div class="spec value" id="val-options" class="anchored"><a href="#val-options" class="anchor"></a><code><span><span class="keyword">val</span> options : <span><a href="#type-options">options</a> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-catala_t" class="anchored"><a href="#val-catala_t" class="anchor"></a><code><span><span class="keyword">val</span> catala_t : <span><span>( <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-options">options</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div><div class="spec-doc"><p>Main entry point: <code>catala_t file options</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_option_globals" class="anchored"><a href="#val-set_option_globals" class="anchor"></a><code><span><span class="keyword">val</span> set_option_globals : <span><a href="#type-options">options</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-version" class="anchored"><a href="#val-version" class="anchor"></a><code><span><span class="keyword">val</span> version : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info" class="anchored"><a href="#val-info" class="anchor"></a><code><span><span class="keyword">val</span> info : <span class="xref-unresolved">Cmdliner</span>.Cmd.info</span></code></div></div><h2 id="terminal-formatting"><a href="#terminal-formatting" class="anchor"></a>Terminal formatting</h2><h3 id="markers"><a href="#markers" class="anchor"></a>Markers</h3><div class="odoc-spec"><div class="spec value" id="val-with_style" class="anchored"><a href="#val-with_style" class="anchor"></a><code><span><span class="keyword">val</span> with_style : 
  <span><span><span class="xref-unresolved">ANSITerminal</span>.style list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, unit, string )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-format_with_style" class="anchored"><a href="#val-format_with_style" class="anchor"></a><code><span><span class="keyword">val</span> format_with_style : 
  <span><span><span class="xref-unresolved">ANSITerminal</span>.style list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_marker" class="anchored"><a href="#val-debug_marker" class="anchor"></a><code><span><span class="keyword">val</span> debug_marker : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-error_marker" class="anchored"><a href="#val-error_marker" class="anchor"></a><code><span><span class="keyword">val</span> error_marker : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-warning_marker" class="anchored"><a href="#val-warning_marker" class="anchor"></a><code><span><span class="keyword">val</span> warning_marker : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-result_marker" class="anchored"><a href="#val-result_marker" class="anchor"></a><code><span><span class="keyword">val</span> result_marker : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-log_marker" class="anchored"><a href="#val-log_marker" class="anchor"></a><code><span><span class="keyword">val</span> log_marker : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><h3 id="printers"><a href="#printers" class="anchor"></a>Printers</h3><p>All the printers below print their argument after the correct marker</p><div class="odoc-spec"><div class="spec value" id="val-concat_with_line_depending_prefix_and_suffix" class="anchored"><a href="#val-concat_with_line_depending_prefix_and_suffix" class="anchor"></a><code><span><span class="keyword">val</span> concat_with_line_depending_prefix_and_suffix : 
  <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> string )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> string )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_prefix_to_each_line" class="anchored"><a href="#val-add_prefix_to_each_line" class="anchor"></a><code><span><span class="keyword">val</span> add_prefix_to_each_line : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> string )</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>The int argument of the prefix corresponds to the line number, starting at 0</p></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_print" class="anchored"><a href="#val-debug_print" class="anchor"></a><code><span><span class="keyword">val</span> debug_print : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.out_channel, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_format" class="anchored"><a href="#val-debug_format" class="anchor"></a><code><span><span class="keyword">val</span> debug_format : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-error_print" class="anchored"><a href="#val-error_print" class="anchor"></a><code><span><span class="keyword">val</span> error_print : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.out_channel, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-warning_print" class="anchored"><a href="#val-warning_print" class="anchor"></a><code><span><span class="keyword">val</span> warning_print : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.out_channel, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-result_print" class="anchored"><a href="#val-result_print" class="anchor"></a><code><span><span class="keyword">val</span> result_print : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.out_channel, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-result_format" class="anchored"><a href="#val-result_format" class="anchor"></a><code><span><span class="keyword">val</span> result_format : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-log_print" class="anchored"><a href="#val-log_print" class="anchor"></a><code><span><span class="keyword">val</span> log_print : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.out_channel, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-log_format" class="anchored"><a href="#val-log_format" class="anchor"></a><code><span><span class="keyword">val</span> log_format : <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div></div></body></html>